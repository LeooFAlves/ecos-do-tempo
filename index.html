<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ecos do Tempo</title>
    <link rel="icon" type="image/svg+xml" href="logo.svg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* CONFIGURAÇÕES GERAIS */
        body { background-color: #0a0a0a; color: #ffffff; font-family: 'Segoe UI', sans-serif; margin: 0; display: flex; flex-direction: column; align-items: center; }
        
       /* HEADER COM LOGO IMAGEM - NOVO */
        header { padding: 40px 20px 20px 20px; text-align: center; position: relative; width: 100%; display: flex; flex-direction: column; align-items: center; }

        /* Controla o tamanho do logo no site */
        .header-logo {
            width: 250px; /* Ajuste este valor se quiser maior ou menor */
             height: auto;
             margin-bottom: 20px;
        }
        
        .social-link {
            display: inline-flex;
            align-items: center;
            text-decoration: none;
            color: #d4af37;
            border: 1px solid #d4af37;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            transition: 0.3s;
        }
        .social-link:hover { background: #d4af37; color: #000; }
        .social-link i { margin-right: 8px; }

        /* GRID DE CARDS */
        .container { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; width: 90%; max-width: 1200px; padding: 40px 0; }
        
        /* CARD COM EFEITO ZOOM */
        .card { background: #1a1a1a; border: 1px solid #333; border-radius: 12px; overflow: hidden; transition: 0.4s; cursor: pointer; }
        .card:hover { border-color: #d4af37; transform: translateY(-5px); box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        
        .img-container { width: 100%; height: 220px; overflow: hidden; }
        .card-img { width: 100%; height: 100%; background-size: cover; background-position: center; transition: transform 0.6s ease; }
        .card:hover .card-img { transform: scale(1.1); }

        .card-content { padding: 20px; }
        .card-content h3 { margin: 0 0 10px 0; color: #d4af37; }
        .card-content p { font-size: 0.9em; color: #bbb; }

        /* MODAL E BOTÃO CTA */
        .modal {
            display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%;
            background-color: rgba(0,0,0,0.95); backdrop-filter: blur(8px); justify-content: center; align-items: center;
        }
        .modal-content {
            background: #161616; padding: 40px; border-radius: 20px; border: 1px solid #333;
            max-width: 500px; width: 85%; text-align: center; position: relative;
        }
        .close-btn { position: absolute; top: 15px; right: 20px; font-size: 25px; color: #555; cursor: pointer; }
        .modal-img { width: 100%; border-radius: 10px; margin-bottom: 20px; border: 1px solid #222; }
        
        /* ESTILO DO BOTÃO CTA */
        .cta-button {
            display: inline-block;
            margin-top: 25px;
            background-color: #d4af37;
            color: #000;
            padding: 12px 30px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: 0.3s;
            width: 80%;
        }
        .cta-button:hover { background-color: #f1c40f; transform: scale(1.05); }
        /* EFEITO ESQUELETO (LOADING) */
        .skeleton {
            background: #1a1a1a;
            background: linear-gradient(110deg, #1a1a1a 8%, #252525 18%, #1a1a1a 33%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite linear;
            border-radius: 10px;
        }

        @keyframes shimmer {
            to { background-position-x: -200%; }
        }

        .skeleton-card {
            height: 350px; /* Mesma altura aproximada do card real */
            border: 1px solid #333;
            border-radius: 12px;
            padding: 0;
            display: flex;
            flex-direction: column;
        }

        .skeleton-img { width: 100%; height: 220px; border-radius: 12px 12px 0 0; }
        .skeleton-title { width: 60%; height: 20px; margin: 20px; }
        .skeleton-text { width: 80%; height: 15px; margin: 0 20px 20px 20px; }
    </style>
</head>
<body>

    <header>
        <img src="logo-ecos.png" alt="Logo Ecos do Tempo" class="header-logo">
    
        <a href="https://instagram.com/ecosdotempo_br" target="_blank" class="social-link">
             <i class="fab fa-instagram"></i> @ecosdotempo_br
        </a>
    </header>

    <div class="container" id="vitrine"></div>

    <div id="meuModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="fecharModal()">&times;</span>
            <img id="modalImg" class="modal-img" src="" alt="">
            <h2 id="modalTitulo" style="color: #d4af37; margin-bottom: 10px;"></h2>
            <p id="modalDescricao" style="color: #ccc; font-size: 0.95rem; line-height: 1.6;"></p>
            
            <a id="modalLink" href="#" target="_blank" class="cta-button">Ver Vídeo Completo</a>
        </div>
    </div>

<script>
    // 1. COLE AQUI O LINK QUE VOCÊ COPIOU (Publicar na Web como CSV)
    const LINK_PLANILHA = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vTl1-wYcxtyN6KvFglIguVBI4dBQ9emszEUu89piHclhQWju4xmdD8cfkvDF4f88TM45mBL3EKxH28X/pub?gid=0&single=true&output=csv';

    // Lista que será preenchida pelos dados da planilha
    let curiosidades = [];

    // Função para buscar os dados da Planilha
    async function carregarDadosDaPlanilha() {
    try {
        const resposta = await fetch(LINK_PLANILHA);
        const dadosBrutos = await resposta.text();
        
        // Divide o arquivo em linhas
        const linhas = dadosBrutos.split(/\r?\n/).filter(linha => linha.trim() !== "");
        const dadosSemCabecalho = linhas.slice(1);

        curiosidades = dadosSemCabecalho.map(linha => {
            /* A mágica aqui: 
               Este comando separa por vírgula, mas garante que se o texto 
               estiver entre aspas (como o Google faz com textos longos), 
               ele não quebre o título ou a descrição.
            */
            const colunas = linha.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);

            if (colunas && colunas.length >= 4) {
                return {
                    titulo: colunas[0].replace(/^"|"$/g, ''),      // Limpa aspas do início/fim
                    descricao: colunas[1].replace(/^"|"$/g, ''),   // Limpa aspas do início/fim
                    imagem: colunas[2].replace(/^"|"$/g, '').trim(),
                    link: colunas[3].replace(/^"|"$/g, '').trim()
                };
            }
            return null;
        }).filter(item => item !== null);

        renderizarMuseu();
    } catch (erro) {
        console.error("Erro ao carregar dados:", erro);
        const vitrine = document.getElementById('vitrine');
        vitrine.innerHTML = "<p style='color: white;'>Erro ao conectar com a planilha. Verifique o link.</p>";
    }
}   

    function renderizarMuseu() {
        const vitrine = document.getElementById('vitrine');
        if (curiosidades.length === 0) {
            vitrine.innerHTML = "<p style='color: white; text-align: center; width: 100%;'>Carregando mistérios...</p>";
            return;
        }

        vitrine.innerHTML = curiosidades.map((item, index) => `
            <div class="card" onclick="abrirModal(${index})">
                <div class="img-container">
                    <div class="card-img" style="background-image: url('${item.imagem}')"></div>
                </div>
                <div class="card-content">
                    <h3>${item.titulo}</h3>
                    <p>${item.descricao ? item.descricao.substring(0, 80) : ''}...</p>
                </div>
            </div>
        `).join('');
    }

    function abrirModal(index) {
        const item = curiosidades[index];
        document.getElementById('modalImg').src = item.imagem;
        document.getElementById('modalTitulo').innerText = item.titulo;
        document.getElementById('modalDescricao').innerText = item.descricao;
        document.getElementById('modalLink').href = item.link;
        
        if(!item.link || item.link === "#" || item.link.includes("Amanhã")) {
            document.getElementById('modalLink').innerText = "Disponível Amanhã";
            document.getElementById('modalLink').style.opacity = "0.5";
            document.getElementById('modalLink').style.pointerEvents = "none";
        } else {
            document.getElementById('modalLink').innerText = "Ver Vídeo Completo";
            document.getElementById('modalLink').style.opacity = "1";
            document.getElementById('modalLink').style.pointerEvents = "auto";
        }

        document.getElementById('meuModal').style.display = "flex";
    }

    function fecharModal() {
        document.getElementById('meuModal').style.display = "none";
    }

    window.onclick = function(event) {
        if (event.target == document.getElementById('meuModal')) fecharModal();
    }

    // Inicia o processo carregando a planilha primeiro
    carregarDadosDaPlanilha();

    // Função que mostra os cards "vazios" piscando
function mostrarEsqueletos() {
    const vitrine = document.getElementById('vitrine');
    // Criamos 2 cards de esqueleto (ou quantos você quiser)
    const esqueletos = `
        <div class="skeleton-card">
            <div class="skeleton-img skeleton"></div>
            <div class="skeleton-title skeleton"></div>
            <div class="skeleton-text skeleton"></div>
        </div>
    `.repeat(2); 
    
    vitrine.innerHTML = esqueletos;
}

// MODIFIQUE O FINAL DO SEU SCRIPT PARA ISSO:

// 1. Antes de tudo, mostra os esqueletos
mostrarEsqueletos();

// 2. Depois de 500ms (para dar tempo do usuário ver o efeito) ou imediatamente, carrega a planilha
setTimeout(() => {
    carregarDadosDaPlanilha();
}, 800);

</script>

<section id="sobre" style="padding: 60px 20px; text-align: center; background: #0f0f0f; width: 100%;">
    <div style="max-width: 800px; margin: 0 auto;">
        <h2 style="color: #d4af37; text-transform: uppercase; letter-spacing: 2px;">O Curador</h2>
        <p style="color: #888; line-height: 1.6; font-size: 1.1rem;">
            Explorador do desconhecido e entusiasta da história. O Ecos do Tempo nasceu da vontade de resgatar memórias esquecidas e compartilhar os mistérios que moldaram nosso mundo.
        </p>
    </div>
</section>

<footer style="padding: 40px 20px; width: 100%; border-top: 1px solid #333; text-align: center; color: #555; font-size: 0.8rem;">
    <p>&copy; 2026 Ecos do Tempo. Todos os direitos reservados.</p>
    <p>Desenvolvido com paixão pela história.</p>

    <div style="margin-top: 20px;">
        <a href="login.html" style="text-decoration: none; color: #333; font-size: 0.7rem; border: 1px solid #333; padding: 5px 10px; border-radius: 4px; transition: 0.3s;">
             <i class="fas fa-lock"></i> Acesso Administrativo
         </a>
    </div>
</footer>

</body>
</html>